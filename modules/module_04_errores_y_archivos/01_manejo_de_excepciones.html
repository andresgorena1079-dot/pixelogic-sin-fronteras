<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥dulo 4, Lecci√≥n 1: Manejo de Excepciones - Python Sin Fronteras</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        function toggleSolution(id) {
            const solution = document.getElementById(id);
            if (solution.style.display === "block") {
                solution.style.display = "none";
            } else {
                solution.style.display = "block";
            }
        }
    </script>
</head>
<body>

    <div class="container">
        <h1>Lecci√≥n 1: Manejo de Excepciones</h1>
        <p class="lesson-intro">
            En el mundo real, las cosas a menudo salen mal: un usuario ingresa texto en lugar de un n√∫mero, un archivo no existe, etc. Si no est√°s preparado, estos errores (llamados **excepciones**) detendr√°n tu programa bruscamente. El **manejo de excepciones** es el mecanismo que nos permite anticipar y gestionar estos problemas de forma elegante y controlada.
        </p>

        <hr>

        <h2>Tema 1: El Bloque `try-except`</h2>
        <p>La principal herramienta para manejar errores es el bloque `try-except`. La analog√≠a es una **red de seguridad para un trapecista**. El c√≥digo propenso a fallar es el trapecista (`try`). Si resbala (ocurre un error), no se estrella contra el suelo (el programa no crashea), sino que cae en la red (`except`), que lo gestiona de forma segura y permite que el espect√°culo contin√∫e.</p>
        
        <div class="concept-card">
            <h3>üîµ Ficha T√©cnica: Bloque <code>try-except</code></h3>
            <p><strong>Descripci√≥n:</strong> Define un bloque de c√≥digo para "intentar" (`try`) una operaci√≥n que podr√≠a fallar. Si ocurre una excepci√≥n, el programa salta al bloque `except` correspondiente en lugar de detenerse.</p>
            <p><strong>Sintaxis:</strong></p>
            <div class="code-block"><pre>
<span class="keyword">try</span>:
    <span class="comment"># C√≥digo que podr√≠a lanzar un error</span>
    <span class="variable">resultado</span> = <span class="number">10</span> / <span class="number">0</span>
<span class="keyword">except</span> <span class="variable">ZeroDivisionError</span>:
    <span class="comment"># C√≥digo que se ejecuta SI ocurre ese error espec√≠fico</span>
    <span class="function">print</span>(<span class="highlight">"Error: No se puede dividir por cero."</span>)
            </pre></div>
            <p><strong>Ejemplo Pr√°ctico:</strong></p>
            <div class="code-block"><pre>
<span class="comment"># C√≥digo de Entrada</span>
<span class="variable">edad_str</span> = <span class="function">input</span>(<span class="highlight">"Introduce tu edad: "</span>) <span class="comment"># Prueba introduciendo "hola"</span>
<span class="keyword">try</span>:
    <span class="variable">edad_num</span> = <span class="function">int</span>(<span class="variable">edad_str</span>)
    <span class="function">print</span>(<span class="highlight">f"En 10 a√±os tendr√°s {edad_num + 10} a√±os."</span>)
<span class="keyword">except</span> <span class="variable">ValueError</span>:
    <span class="function">print</span>(<span class="highlight">"Entrada inv√°lida. Debes introducir un n√∫mero."</span>)

<span class="comment"># Salida Esperada (si se introduce "hola")</span>
<span class="highlight">Entrada inv√°lida. Debes introducir un n√∫mero.</span>
            </pre></div>
            <p>‚úÖ **Buena Pr√°ctica:** Es mejor capturar excepciones espec√≠ficas (como `ValueError` o `FileNotFoundError`) en lugar de una excepci√≥n gen√©rica (`except Exception:`), para saber exactamente qu√© tipo de error ocurri√≥.</p>
        </div>

        <hr>

        <h2>Tema 2: Bloques `else` y `finally`</h2>
        <p>La estructura `try-except` se puede extender con dos bloques opcionales m√°s.</p>

        <div class="concept-card">
            <h3>Bloque `else`</h3>
            <p>El bloque `else` se ejecuta **√∫nicamente si no ocurri√≥ ninguna excepci√≥n** en el bloque `try`.</p>
        </div>
        
        <div class="concept-card">
            <h3>Bloque `finally`</h3>
            <p>El bloque `finally` se ejecuta **siempre**, sin importar si hubo una excepci√≥n o no. Es ideal para tareas de "limpieza", como cerrar un archivo o una conexi√≥n de red.</p>
            <div class="code-block"><pre>
<span class="keyword">try</span>:
    <span class="variable">numero</span> = <span class="function">int</span>(<span class="highlight">"123"</span>)
<span class="keyword">except</span> <span class="variable">ValueError</span>:
    <span class="function">print</span>(<span class="highlight">"Ocurri√≥ un error de valor."</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="highlight">"No hubo errores, la conversi√≥n fue exitosa."</span>) <span class="comment"># Se ejecuta</span>
<span class="keyword">finally</span>:
    <span class="function">print</span>(<span class="highlight">"Este bloque se ejecuta siempre."</span>) <span class="comment"># Se ejecuta</span>
            </pre></div>
        </div>

        <hr>

        <div class="exercise">
            <h3>üöÄ Ejercicios de la Lecci√≥n 1 (M√≥dulo 4)</h3>

            <h4>Ejercicio 1: Calculadora Segura</h4>
            <p><strong>Objetivo:</strong> Crear una funci√≥n de divisi√≥n que maneje los errores de divisi√≥n por cero y de entrada no num√©rica.</p>
            <p><strong>Instrucciones:</strong></p>
            <ol>
                <li>Crea un script `01_calculadora_segura.py`.</li>
                <li>Define una funci√≥n `dividir(a, b)` que intente retornar el resultado de `a / b`.</li>
                <li>Dentro de la funci√≥n, usa un bloque `try-except` para capturar la excepci√≥n `ZeroDivisionError`. Si ocurre, la funci√≥n debe devolver el string `"Error: No se puede dividir por cero."`.</li>
                <li>Fuera de la funci√≥n, pide al usuario dos n√∫meros.</li>
                <li>Usa un bloque `try-except` para convertir las entradas a `float`. Si falla (`ValueError`), imprime un mensaje de error.</li>
                <li>Si la conversi√≥n es exitosa (en un bloque `else`), llama a tu funci√≥n `dividir` e imprime el resultado.</li>
            </ol>
            <span class="solution-toggle" onclick="toggleSolution('solucionM4L1-1')">Ver Soluci√≥n</span>
            <div id="solucionM4L1-1" class="exercise-solution">
                <div class="code-block"><pre>
<span class="keyword">def</span> <span class="function">dividir</span>(<span class="variable">a</span>, <span class="variable">b</span>):
    <span class="keyword">try</span>:
        <span class="keyword">return</span> <span class="variable">a</span> / <span class="variable">b</span>
    <span class="keyword">except</span> <span class="variable">ZeroDivisionError</span>:
        <span class="keyword">return</span> <span class="highlight">"Error: No se puede dividir por cero."</span>

<span class="variable">num1_str</span> = <span class="function">input</span>(<span class="highlight">"Introduce el dividendo: "</span>)
<span class="variable">num2_str</span> = <span class="function">input</span>(<span class="highlight">"Introduce el divisor: "</span>)

<span class="keyword">try</span>:
    <span class="variable">num1</span> = <span class="function">float</span>(<span class="variable">num1_str</span>)
    <span class="variable">num2</span> = <span class="function">float</span>(<span class="variable">num2_str</span>)
<span class="keyword">except</span> <span class="variable">ValueError</span>:
    <span class="function">print</span>(<span class="highlight">"Error: Ambos valores deben ser num√©ricos."</span>)
<span class="keyword">else</span>:
    <span class="variable">resultado</span> = <span class="function">dividir</span>(<span class="variable">num1</span>, <span class="variable">num2</span>)
    <span class="function">print</span>(<span class="highlight">f"El resultado es: {resultado}"</span>)
                </pre></div>
            </div>
        </div>

        <div class="navigation-buttons">
            <a href="../module_03_poo/04_encapsulamiento_y_abstraccion.html" class="nav-button">
                <i class="fas fa-arrow-left"></i> Lecci√≥n Anterior
            </a>
            <a href="02_manipulacion_de_archivos.html" class="nav-button">
                Siguiente Lecci√≥n <i class="fas fa-arrow-right"></i>
            </a>
        </div>
        
        <div class="footer">
            <p>Hecho con Python Sin Fronteras</p>
        </div>
    </div>

</body>
</html>